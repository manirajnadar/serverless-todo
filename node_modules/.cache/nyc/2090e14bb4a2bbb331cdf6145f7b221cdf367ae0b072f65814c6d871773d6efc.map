{"version":3,"file":"/home/samco-naman-ltp-235/myproject/projects/todo/backend/lib/index.ts","sources":["/home/samco-naman-ltp-235/myproject/projects/todo/backend/lib/index.ts"],"names":[],"mappings":";;AACA,kCAAkC;AAClC,iCAA+C;AAElC,QAAA,UAAU,GAAG,KAAK,EAAE,KAA4B,EAAmC,EAAE;IAC9F,MAAM,IAAI,GAAU,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;IAEpB,MAAM,KAAK,GAAU,MAAM,WAAI,CAAC,IAAI,CAAC,CAAC;IAEtC,OAAO;QACH,UAAU,EAAE,GAAG;QACf,OAAO,EAAE;YACL,QAAQ,EAAE,SAAS,GAAG,KAAK,CAAC,EAAE;SACjC;QACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;KAC9B,CAAC;AACN,CAAC,CAAC;AAEW,QAAA,WAAW,GAAG,KAAK,IAAqC,EAAE;IACnE,OAAO,CAAC;QACJ,UAAU,EAAE,GAAG;QACf,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,gBAAS,EAAE,CAAC;KAC1C,CAAC,CAAC;AACP,CAAC,CAAC;AAEW,QAAA,aAAa,GAAG,KAAK,EAAE,KAA4B,EAAmC,EAAE;IACjG,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAEpC,IAAI,IAAI,CAAC,EAAE,KAAK,KAAK,CAAC,cAAc,CAAC,EAAE,EAAE;QACrC,OAAO;YACH,UAAU,EAAE,GAAG;YACf,IAAI,EAAE,EAAE;SACX,CAAC;KACL;IAED,OAAO;QACH,UAAU,EAAE,GAAG;QACf,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,WAAI,CAAC,IAAI,CAAC,CAAC;KACzC,CAAC;AACN,CAAC,CAAC","sourcesContent":["import { APIGatewayProxyEvent, APIGatewayProxyResult } from 'aws-lambda';\nimport * as uuid from 'node-uuid';\nimport { listTodos, save, ToDo } from './data';\n\nexport const apiAddTodo = async (event : APIGatewayProxyEvent) : Promise<APIGatewayProxyResult> => {\n    const todo : ToDo = JSON.parse(event.body);\n    todo.id = uuid.v4();\n\n    const saved : ToDo = await save(todo);\n\n    return {\n        statusCode: 201,\n        headers: {\n            Location: '/todos/' + saved.id,\n        },\n        body: JSON.stringify(saved),\n    };\n};\n\nexport const apiGetTodos = async () : Promise<APIGatewayProxyResult> => {\n    return ({\n        statusCode: 200,\n        body: JSON.stringify(await listTodos()),\n    });\n};\n\nexport const apiUpdateTodo = async (event : APIGatewayProxyEvent) : Promise<APIGatewayProxyResult> => {\n    const todo = JSON.parse(event.body);\n\n    if (todo.id !== event.pathParameters.id) {\n        return {\n            statusCode: 400,\n            body: '',\n        };\n    }\n\n    return {\n        statusCode: 200,\n        body: JSON.stringify(await save(todo)),\n    };\n};\n"]}